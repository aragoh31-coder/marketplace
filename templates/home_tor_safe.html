{% extends 'base_tor_safe.html' %}

{% block title %}Secure Marketplace - Tor Safe Home{% endblock %}

{% block content %}
<div class="card text-center card-elevation-3">
    <div class="title-container">
        <h1 class="marketplace-title">
            <span class="title-icon">🔒</span>
            <span class="title-text">Secure Marketplace</span>
        </h1>
        <div class="title-underline"></div>
    </div>
    <p class="text-secondary mt-3">Privacy-First Digital Goods Exchange</p>
    
    <div class="card">
        <h2>🕵️ Tor Browser Optimized</h2>
        <p>This marketplace is specifically designed to work perfectly with Tor Browser in <strong>safest mode</strong>.</p>
        
        <div class="grid grid-2 mt-3">
            <div class="card">
                <h3>✅ What Works</h3>
                <ul style="text-align: left; margin-left: 1.5rem;">
                    <li>All marketplace functionality</li>
                    <li>User registration and login</li>
                    <li>Product browsing and purchasing</li>
                    <li>Wallet operations</li>
                    <li>Order management</li>
                    <li>Vendor interactions</li>
                </ul>
            </div>
            
            <div class="card">
                <h3>🚫 What's Removed</h3>
                <ul style="text-align: left; margin-left: 1.5rem;">
                    <li>JavaScript (not required)</li>
                    <li>External CDNs</li>
                    <li>Tracking scripts</li>
                    <li>Animations</li>
                    <li>External fonts</li>
                    <li>Analytics</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="grid grid-3 mt-4">
        <div class="card">
            <h3>📦 Products</h3>
            <p>Browse digital goods from verified vendors</p>
            <a href="{% url 'products:list' %}" class="btn btn-primary">Browse Products</a>
        </div>
        
        <div class="card">
            <h3>🏪 Vendors</h3>
            <p>Find trusted vendors with good ratings</p>
            <a href="{% url 'vendors:list' %}" class="btn btn-secondary">View Vendors</a>
        </div>
        
        <div class="card">
            <h3>💰 Wallet</h3>
            <p>Secure cryptocurrency wallet operations</p>
            {% if user.is_authenticated %}
                <a href="{% url 'wallets:wallet_detail' %}" class="btn btn-primary">My Wallet</a>
            {% else %}
                <a href="{% url 'accounts:login' %}" class="btn btn-secondary">Login Required</a>
            {% endif %}
        </div>
    </div>

    {% if not user.is_authenticated %}
    <div class="card mt-4">
        <h3>🔐 Get Started</h3>
        <p>Create an account to start trading digital goods securely</p>
        
        <div class="grid grid-2" style="max-width: 400px; margin: 0 auto;">
            <a href="{% url 'accounts:login' %}" class="btn btn-primary">🔑 Login</a>
            <a href="{% url 'accounts:register' %}" class="btn btn-secondary">📝 Register</a>
        </div>
    </div>
    {% endif %}

    <div class="card mt-4">
        <h3>🛡️ Security Features</h3>
        <div class="grid grid-2">
            <div>
                <h4>Privacy</h4>
                <ul style="text-align: left; margin-left: 1.5rem;">
                    <li>No JavaScript tracking</li>
                    <li>No external requests</li>
                    <li>No cookies</li>
                    <li>No local storage</li>
                </ul>
            </div>
            <div>
                <h4>Security</h4>
                <ul style="text-align: left; margin-left: 1.5rem;">
                    <li>PGP encryption support</li>
                    <li>Escrow protection</li>
                    <li>Vendor verification</li>
                    <li>Dispute resolution</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="card mt-4">
        <h3>📱 Tor Browser Instructions</h3>
        <ol style="text-align: left; margin-left: 1.5rem;">
            <li>Open Tor Browser</li>
            <li>Set security level to "Safest" (recommended)</li>
            <li>Navigate to this marketplace</li>
            <li>All features will work without JavaScript</li>
            <li>Maximum privacy and security guaranteed</li>
        </ol>
        
        <p class="mt-2"><strong>Note:</strong> This marketplace is designed to work perfectly even with JavaScript completely disabled.</p>
    </div>
</div>

<style>
/* Title styling matching register page */
.title-container {
    text-align: center;
    position: relative;
    margin-bottom: 2rem;
}

.marketplace-title {
    font-size: 2.5rem;
    margin: 0;
    position: relative;
    display: inline-block;
}

.title-text {
    background: linear-gradient(135deg, var(--primary), var(--accent));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    font-weight: 700;
    letter-spacing: -0.02em;
}

.title-icon {
    display: inline-block;
    animation: pulse 2s ease-in-out infinite;
    margin-right: 0.5rem;
}

@keyframes pulse {
    0%, 100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.1); opacity: 0.8; }
}

.title-underline {
    height: 4px;
    background: linear-gradient(90deg, transparent, var(--primary), var(--accent), transparent);
    margin: 1rem auto 0;
    width: 300px;
    border-radius: 2px;
    animation: shimmer 3s ease-in-out infinite;
}

@keyframes shimmer {
    0%, 100% { opacity: 0.6; transform: translateX(0); }
    50% { opacity: 1; transform: translateX(10px); }
}

/* Enhanced grid cards */
.grid .card {
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

.grid .card p {
    flex-grow: 1;
    margin: 1rem 0;
}

/* Button spacing */
.grid .btn {
    margin-top: auto;
}
</style>
{% endblock %}